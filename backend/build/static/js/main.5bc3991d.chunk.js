(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{46:function(e,t,a){e.exports=a(97)},51:function(e,t,a){},57:function(e,t){},95:function(e,t,a){},96:function(e,t){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(22),r=a.n(l),c=(a(51),a(3)),i=a(4),s=a(6),m=a(5),u=a(8),_=a(14),p=a(19),d=a.n(p),h=a(24),v=(a(57),a(18)),E=a.n(v),g=a(17),b=a(7),f=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),n.setState(Object(g.a)({},e.target.name,e.target.value))},n.submitSignup=function(e){e.preventDefault(),n.props.authsignup(n.state.username,n.state.email,n.state.password,n.state.password2)},n.state={password:null,username:null,password2:null,email:null,token:null,isAuthenticated:null},n}return Object(i.a)(a,[{key:"render",value:function(){return this.props.isAuthenticated?o.a.createElement(b.a,{to:{pathname:"/"}}):o.a.createElement("div",{className:"login__div"},o.a.createElement("h2",{className:"login__div__h2"},"Sign up"),o.a.createElement("p",{className:"login__div__p"},"Create new Account!"),o.a.createElement("form",{className:"login__div__form",onSubmit:this.submitSignup},o.a.createElement("div",null,o.a.createElement("input",{type:"text",name:"username",placeholder:"Username",onChange:this.handleSubmit})),o.a.createElement("div",null,o.a.createElement("input",{type:"text",name:"email",placeholder:"Email",onChange:this.handleSubmit})),o.a.createElement("div",null,o.a.createElement("input",{type:"password",name:"password",placeholder:" Password",onChange:this.handleSubmit})),o.a.createElement("div",null,o.a.createElement("input",{type:"password",name:"password2",placeholder:" Password Confirm",onChange:this.handleSubmit})),o.a.createElement("div",null,o.a.createElement("input",{type:"submit",value:"Sign Up"}))),o.a.createElement("h6",null,"Already have an Account ",o.a.createElement(u.b,{to:"/login"},"Sign in")))}}]),a}(n.Component),y=Object(_.b)((function(e){return{token:e.token,isAuthenticated:e.isAuthenticated}}),(function(e){return{authsignup:function(t,a,n,o){console.log(t,a,n,o),e(j(t,a,n,o))}}}))(f),O=function(e,t){return function(){var a=Object(h.a)(d.a.mark((function a(n){var o,l,r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o={headers:{"Content-Type":"application/json"}},l=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,E.a.post("http://127.0.0.1:8000/account/login/",l,o);case 5:r=a.sent,n({type:"LOGIN_SUCESS",payload:r.data}),alert(" has beeen done "),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(2),n({type:"LOGIN_FAIL"}),console.log("it  has not been submitted"),console.log("error",a.t0);case 15:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}()},j=function(e,t,a,n){return function(){var o=Object(h.a)(d.a.mark((function o(l){var r,c,i;return d.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({username:e,email:t,password:a,password2:n}),console.log("signup body",c),o.prev=3,o.next=6,E.a.post("http://127.0.0.1:8000/account/register/",c,r);case 6:i=o.sent,l({type:"SIGNUP_SUCESS",payload:i.data}),l(O(t,a)),o.next=14;break;case 11:o.prev=11,o.t0=o.catch(3),console.log("error",o.t0);case 14:case"end":return o.stop()}}),o,null,[[3,11]])})));return function(e){return o.apply(this,arguments)}}()},N=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var l;return Object(c.a)(this,a),(l=t.call(this,e)).logout=function(e){l.props.authlogout(),e.preventDefault(),window.location.reload(!1)},l.normal=o.a.createElement("div",{className:"fragment"},o.a.createElement(u.b,{className:"link",to:"/login"},"LOGIN"),o.a.createElement(u.b,{to:"/login",className:"link"},"SIGNUP")),l.auth=o.a.createElement(n.Fragment,null,o.a.createElement(u.b,{className:"link",onClick:l.logout,to:"/"},"Logout")),l.state={loading:null},l}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement(n.Fragment,null,o.a.createElement("nav",{className:"navbar__header"},o.a.createElement("div",null,"ESTATE APP"),o.a.createElement("div",{className:"navbar__header__right__div"},localStorage.getItem("token")&&!this.props.loading?this.auth:this.normal)),o.a.createElement("div",{className:"navbar__header__bottom__div"},o.a.createElement(u.b,{className:"navbar__header__bottom__div__links",to:"/"},"Home"),o.a.createElement(u.b,{className:"navbar__header__bottom__div__links",to:"/about"},"About"),o.a.createElement(u.b,{className:"navbar__header__bottom__div__links",to:"/list"},"Listing"),o.a.createElement(u.b,{className:"navbar__header__bottom__div__links",to:"/contact"},"Contact")))}}]),a}(n.Component),S=Object(_.b)((function(e){return{token:e.token,loading:e.loading}}),(function(e){return{authlogout:function(){e(function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("token"),e.next=3,E.a.post("http://127.0.0.1:8000/account/logout/").then((function(e){console.log("asker")})).catch((function(e){console.log("adem ")}));case 3:t({type:"LOGOUT"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(N),k=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(S,null),this.props.children)}}]),a}(n.Component),C=a(15),w=a(39),P=a(42),L=a.n(P),A=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).formChange=function(e){n.setState(Object(g.a)({},e.target.name,e.target.value))},n.settingList=function(e){n.props.updateListing(e.data),window.scrollTo(0,0)},n.formSubmit=function(e){e.preventDefault(),E.a.defaults.headers={"Content-Type":"application/json"};var t=n.state;delete t.loading,console.log("formData",t),n.setState({loading:!0}),E.a.post("http://127.0.0.1:8000/listinghouse/search/",t).then((function(e){console.log("res",e.data),n.settingList(e),n.setState({loading:!1})})).catch((function(e){console.log("erroor",e),n.setState({loading:!1})}))},n.state={sale_type:"For Sale",price:"$0+",bedrooms:"0+",house_type:"House",sqft:"1000+",days_listed:"1 or less",has_photos:"1+",open_house:!1,bathrooms:"0+",keywords:"",loading:!1},n}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("form",{className:"home__div__top__section__form",onSubmit:this.formSubmit},o.a.createElement("div",{className:"home__div__top__section__form__div"},o.a.createElement("div",{className:"home__div__top__section__form__div__div"},o.a.createElement("label",{htmlFor:"sqft"},"Sqft"),o.a.createElement("select",{onChange:this.formChange,name:"sqft",value:this.state.sqft},o.a.createElement("option",null,"1000+"),o.a.createElement("option",null,"1200+"),o.a.createElement("option",null,"1500+"),o.a.createElement("option",null,"1700+"),o.a.createElement("option",null,"2000+"),o.a.createElement("option",null,"Any"))),o.a.createElement("div",{className:"home__div__top__section__form__div__div"},o.a.createElement("label",{htmlFor:"sale_type"},"Sale Type"),o.a.createElement("select",{onChange:this.formChange,name:"sale_type",value:this.state.sale_type},o.a.createElement("option",null,"For Sale"),o.a.createElement("option",null,"For Rent"))),o.a.createElement("div",{className:"home__div__top__section__form__div__div"},o.a.createElement("label",{htmlFor:"price"},"Minumum Price"),o.a.createElement("select",{onChange:this.formChange,name:"price",value:this.state.price},o.a.createElement("option",null,"$200,000+"),o.a.createElement("option",null,"$400,000+"),o.a.createElement("option",null,"$600,000+"),o.a.createElement("option",null,"$800,000+"),o.a.createElement("option",null,"$1,000,000+"),o.a.createElement("option",null,"$1,200,000+"),o.a.createElement("option",null,"$1,500,000+"),o.a.createElement("option",null,"Any"))),o.a.createElement("div",{className:"home__div__top__section__form__div__div"},o.a.createElement("label",{htmlFor:"days_listed"},"Days Listed"),o.a.createElement("select",{onChange:this.formChange,name:"days_listed",value:this.state.days_listed},o.a.createElement("option",null,"1 or less "),o.a.createElement("option",null,"2 or less "),o.a.createElement("option",null,"5 or less "),o.a.createElement("option",null,"10 or less "),o.a.createElement("option",null,"20 or less "),o.a.createElement("option",null,"Any"))),o.a.createElement("div",{className:"home__div__top__section__form__div__div"},o.a.createElement("label",{htmlFor:"bedrooms"},"Bedrooms"),o.a.createElement("select",{onChange:this.formChange,name:"bedrooms",value:this.state.bedrooms},o.a.createElement("option",null,"0+"),o.a.createElement("option",null,"1+"),o.a.createElement("option",null,"2+"),o.a.createElement("option",null,"3+"),o.a.createElement("option",null,"4+"),o.a.createElement("option",null,"5+"))),o.a.createElement("div",{className:"home__div__top__section__form__div__div"},o.a.createElement("label",{htmlFor:"has_photos"},"Has Photos"),o.a.createElement("select",{onChange:this.formChange,name:"has_photos",value:this.state.has_photos},o.a.createElement("option",null,"0+"),o.a.createElement("option",null,"1+"),o.a.createElement("option",null,"3+"),o.a.createElement("option",null,"5+"),o.a.createElement("option",null,"10+"),o.a.createElement("option",null,"15+"))),o.a.createElement("div",{className:"home__div__top__section__form__div__div"},o.a.createElement("label",{htmlFor:"home_type"},"Home Type"),o.a.createElement("select",{onChange:this.formChange,name:"house_type",value:this.state.house_type},o.a.createElement("option",null,"House"),o.a.createElement("option",null,"Conda"),o.a.createElement("option",null,"Townhouse"))),o.a.createElement("div",{className:"home__div__top__section__form__div__div"},o.a.createElement("label",{htmlFor:"bathrooms"},"Bathrooms"),o.a.createElement("select",{onChange:this.formChange,name:"bathrooms",value:this.state.bathrooms},o.a.createElement("option",null,"0+"),o.a.createElement("option",null,"1+"),o.a.createElement("option",null,"2+"),o.a.createElement("option",null,"3+"),o.a.createElement("option",null,"4+"))),o.a.createElement("div",{className:"home__div__top__section__form__div__div"},o.a.createElement("label",{htmlFor:"keywords"},"Keywords"),o.a.createElement("input",{type:"text",onChange:this.formChange,name:"keywords",value:this.state.keywords})),o.a.createElement("div",{className:"home__div__top__section__form__div__div"},o.a.createElement("label",{htmlFor:"open_house"},"Open House"),o.a.createElement("input",{type:"checkbox",onChange:this.formChange,name:"open_house",value:this.state.open_house}))),this.state.loading?o.a.createElement(L.a,{type:"Oval",width:50,height:50,color:"turquoise"}):o.a.createElement("button",null," Search")))}}]),a}(n.Component),x=function(e){return o.a.createElement("div",{className:"card"},o.a.createElement("h3",{className:"card__title"},e.title),o.a.createElement("div",{className:"card__header"},o.a.createElement("img",{className:"card__header__photo",src:e.photo_main,alt:"House"})),o.a.createElement("p",{className:"card__location"},e.adress,",",e.city,",",e.state),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("p",{className:"card__info"},"Price: $",e.price.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),o.a.createElement("p",{className:"card__info"},"Bedrooms: ",e.bedrooms),o.a.createElement("p",{className:"card__info"},"Bathrooms: ",e.bathrooms)),o.a.createElement("div",null,o.a.createElement("p",{className:"card__saletype"}," ",e.sale_type),o.a.createElement("p",{className:"card__hometype"}," ",e.house_type),o.a.createElement("p",{className:"card__sqft"}," ",e.sqft)),o.a.createElement(u.b,{className:"card__link",to:"/listings/${props.slug}"},"ViewLIsting")))},F=function(e){var t=e.listing;return o.a.createElement("div",{className:"card__before__show"},function(){var e=[];t.map((function(t){e.push(o.a.createElement(x,{id:t.id,title:t.title,adress:t.adress,bathrooms:t.bathrooms,bedrooms:t.bedrooms,house_type:t.house_type,open_house:t.open_house,photo_main:t.photo_main,city:t.city,state:t.state,price:t.price,slug:t.slug,sqft:t.sqft,sale_type:t.sale_type}))}));for(var a=0;a<t.length;a+=3)return o.a.createElement(n.Fragment,null,o.a.createElement("div",null,e[a]),e[a+1]?o.a.createElement("div",null,e[a+1]):null,e[a+2]?o.a.createElement("div",null,e[a+2]):null);return[]}())},I=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).visitingpage=function(e){n.setState({currentPage:e,activave:e})},n.updateListing=function(e){n.setState({listing:e});n.state.currentPage,n.state.listingPerPage,n.state.listingPerPage;console.log("listing after settinf",n.state.listing);var t=n.state.listing.slice(0,3);console.log("items",t),n.setState({actualList:t})},n.changingValue=function(){console.log("muhittin")},n.previousPage=function(){var e=Object(C.a)({},n.state);1!==e.currentPage&&n.setState({currentPage:e.currentPage-1,active:e.currentPage-1})},n.nextPage=function(){var e=Object(C.a)({},n.state);e.currentPage!==Math.ceil(n.state.listing.length/n.state.listingPerPage)&&n.setState({currentPage:e.currentPage+1,active:e.currentPage+1})},n.state={currentPage:2,listingPerPage:3,active:1,listing:[],indexOfLastListing:0,indexOfFirstListing:0,actualList:[]},n}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"home__div"},o.a.createElement("input",{type:"hidden",value:this.state.listing,onChange:this.changingValue}),o.a.createElement(w.a,null,o.a.createElement("meta",{charSet:"utf-8"}),o.a.createElement("title",null,"Home || Estate APP")),o.a.createElement("section",{className:"home__div__top__section"},o.a.createElement(A,{updateListing:this.updateListing})),o.a.createElement("section",{className:"home__div__middle__section"},o.a.createElement(F,{listing:this.state.actualList})),o.a.createElement("section",{className:"home__div__bottom__section"}))}}]),a}(n.Component),T=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,"About")}}]),a}(n.Component),U=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,"Contact")}}]),a}(n.Component),D=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),n.setState(Object(g.a)({},e.target.name,e.target.value))},n.submitLogin=function(e){e.preventDefault(),n.props.authlogin(n.state.email,n.state.password)},n.state={password:null,email:null,token:null,isAuthenticated:null},n}return Object(i.a)(a,[{key:"render",value:function(){return this.props.isAuthenticated?o.a.createElement(b.a,{to:{pathname:"/"}}):o.a.createElement("div",{className:"login__div"},o.a.createElement("h2",{className:"login__div__h2"},"Login"),o.a.createElement("p",{className:"login__div__p"},"Sign in your Account!"),o.a.createElement("form",{className:"login__div__form",onSubmit:this.submitLogin},o.a.createElement("div",null,o.a.createElement("input",{type:"text",name:"email",placeholder:"Email",onChange:this.handleSubmit})),o.a.createElement("div",null,o.a.createElement("input",{type:"password",name:"password",placeholder:" Password",onChange:this.handleSubmit})),o.a.createElement("div",null,o.a.createElement("input",{type:"submit",value:"submit"}))),o.a.createElement("h6",null,"Don't have any account yet ",o.a.createElement(u.b,{to:"/signup"},"Sign in")))}}]),a}(n.Component),G=Object(_.b)((function(e){return{token:e.token,isAuthenticated:e.isAuthenticated}}),(function(e){return{authlogin:function(t,a){e(O(t,a))}}}))(D),$=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,"ListingDetail")}}]),a}(n.Component),q=(a(95),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"notFound"},o.a.createElement("h2",{className:"notFound__heading"},"Not Found "),o.a.createElement("p",{className:"notFound__paragraph"},"THe page you search for not found"))}}]),a}(n.Component)),H=(a(45),a(16)),B=a(43),J=a(44),M=(a(96),{token:localStorage.getItem("token"),isAuthenticated:null,loading:!1}),V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"LOGIN_SUCESS":return console.log("payload",n.tokens.token),localStorage.setItem("token",n.tokens.token),Object(C.a)(Object(C.a)({},e),{},{isAuthenticated:!0,loading:!1,token:n.tokens.token});case"SIGNUP_SUCESS":return Object(C.a)(Object(C.a)({},e),{},{isAuthenticated:!1,loading:!0});case"SIGNUP_FAIL":case"LOGIN_FAIL":case"LOGOUT":return localStorage.removeItem("token"),Object(C.a)(Object(C.a)({},e),{},{isAuthenticated:!1,loading:!1,token:null});default:return e}},W=(Object(H.combineReducers)({auth:V}),Object(H.createStore)(V,{},Object(B.composeWithDevTools)(Object(H.applyMiddleware)(J.a)))),R=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement(_.a,{store:W},o.a.createElement("div",{className:"App"},o.a.createElement(u.a,null,o.a.createElement(k,null,o.a.createElement(b.d,null,o.a.createElement(b.b,{exact:!0,path:"/",component:I}),o.a.createElement(b.b,{exact:!0,path:"/about",component:T}),o.a.createElement(b.b,{exact:!0,path:"/contact",component:U}),o.a.createElement(b.b,{exact:!0,path:"/signup",component:y}),o.a.createElement(b.b,{exact:!0,path:"/login",component:G}),o.a.createElement(b.b,{exact:!0,path:"/list",component:F}),o.a.createElement(b.b,{exact:!0,path:"/listing/:id ",component:$}),o.a.createElement(b.b,{component:q}))))))}}]),a}(n.Component),K=Object(_.b)((function(e){return{loading:e.loading}}),(function(e){return{login:e(O())}}))(R);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(_.a,{store:W},o.a.createElement(o.a.StrictMode,null,o.a.createElement(K,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.5bc3991d.chunk.js.map