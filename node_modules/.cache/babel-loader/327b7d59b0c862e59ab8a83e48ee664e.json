{"ast":null,"code":"import _regeneratorRuntime from\"/home/alex/Documents/clone/estate-real-appp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/alex/Documents/clone/estate-real-appp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/alex/Documents/clone/estate-real-appp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,Fragment}from\"react\";import Card from\"./Card\";import Axios from\"axios\";import Pagination from\"./Pagination\";var Listing=function Listing(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),listings=_useState2[0],setListings=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),count=_useState4[0],setCount=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),next=_useState6[0],setNext=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),previous=_useState8[0],setPrevious=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),active=_useState10[0],setActive=_useState10[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Axios.get(\"https://estate-real-appp.herokuapp.com/listinghouse/?page=1\");case 3:res=_context.sent;setListings(res.data.results);setCount(res.data.count);setNext(res.data.next);setPrevious(res.data.previous);_context.next=12;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var displayListing=function displayListing(){var cardListing=[];var result=[];listings.map(function(element){cardListing.push(/*#__PURE__*/React.createElement(Card,{id:element.id,title:element.title,adress:element.adress,bathrooms:element.bathrooms,bedrooms:element.bedrooms,house_type:element.house_type,open_house:element.open_house,photo_main:element.photo_main,city:element.city,state:element.state,price:element.price,slug:element.slug,sqft:element.sqft,sale_type:element.sale_type}));});for(var i=0;i<listings.length;i+=3){result.push(/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,cardListing[i]),cardListing[i+1]?/*#__PURE__*/React.createElement(\"div\",null,cardListing[i+1]):null,cardListing[i+2]?/*#__PURE__*/React.createElement(\"div\",null,cardListing[i+2]):null));}return result;};var visitPage=function visitPage(page){Axios.get(\"https://estate-real-appp.herokuapp.com/listinghouse/?page=\".concat(page)).then(function(res){setListings(res.data.results);setNext(res.data.next);setPrevious(res.data.previous);setActive(page);}).catch(function(error){console.log(\"error\",error);});};var previosPage=function previosPage(){Axios.get(previous).then(function(res){setListings(res.data.results);setNext(res.data.next);setPrevious(res.data.previous);setActive(active-1);}).catch(function(error){console.log(\"error\",error);});};var nextPage=function nextPage(){Axios.get(next).then(function(res){setListings(res.data.results);setNext(res.data.next);setPrevious(res.data.previous);if(next){setActive(active+1);}}).catch(function(error){console.log(\"error\",error);});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"card__before__show\"},displayListing()),/*#__PURE__*/React.createElement(\"section\",{className:\"home__div__bottom__section\"},listings.length!=0?/*#__PURE__*/React.createElement(Pagination,{count:count,visitingPage:visitPage,previousPage:previosPage,nextPage:nextPage,listingPerPage:3,active:active,updateListingPagination:visitPage}):null));};export default Listing;","map":{"version":3,"sources":["/home/alex/Documents/clone/estate-real-appp/src/container/Listing.js"],"names":["React","useState","useEffect","Fragment","Card","Axios","Pagination","Listing","listings","setListings","count","setCount","next","setNext","previous","setPrevious","active","setActive","fetchData","get","res","data","results","displayListing","cardListing","result","map","element","push","id","title","adress","bathrooms","bedrooms","house_type","open_house","photo_main","city","state","price","slug","sqft","sale_type","i","length","visitPage","page","then","catch","error","console","log","previosPage","nextPage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from \"react\";\nimport Card from \"./Card\";\nimport Axios from \"axios\";\nimport Pagination from \"./Pagination\";\n\nconst Listing = () => {\n  const [listings, setListings] = useState([]);\n  const [count, setCount] = useState(0);\n  const [next, setNext] = useState(\"\");\n  const [previous, setPrevious] = useState(\"\");\n  const [active, setActive] = useState(1);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n       \n        // const res = await Axios.get(\n        //   \"http://127.0.0.1:8000/listinghouse/?page=1\"\n        // );\n        const res = await Axios.get(\n          \"https://estate-real-appp.herokuapp.com/listinghouse/?page=1\"\n        );\n        setListings(res.data.results);\n        setCount(res.data.count);\n        setNext(res.data.next);\n        setPrevious(res.data.previous);\n      } catch (error) {}\n    };\n    fetchData();\n  }, []);\n\n  const displayListing = () => {\n    let cardListing = [];\n    let result = [];\n    listings.map((element) => {\n      cardListing.push(\n        <Card\n          id={element.id}\n          title={element.title}\n          adress={element.adress}\n          bathrooms={element.bathrooms}\n          bedrooms={element.bedrooms}\n          house_type={element.house_type}\n          open_house={element.open_house}\n          photo_main={element.photo_main}\n          city={element.city}\n          state={element.state}\n          price={element.price}\n          slug={element.slug}\n          sqft={element.sqft}\n          sale_type={element.sale_type}\n        />\n      );\n    });\n    for (let i = 0; i < listings.length; i += 3) {\n      result.push(\n        <Fragment>\n          <div>{cardListing[i]}</div>\n          {cardListing[i + 1] ? <div>{cardListing[i + 1]}</div> : null}\n          {cardListing[i + 2] ? <div>{cardListing[i + 2]}</div> : null}\n        </Fragment>\n      );\n    }\n\n    return result;\n  };\n\n  const visitPage = (page) => {\n    Axios.get(`https://estate-real-appp.herokuapp.com/listinghouse/?page=${page}`)\n      .then((res) => {\n        setListings(res.data.results);\n        setNext(res.data.next);\n        setPrevious(res.data.previous);\n        setActive(page);\n      })\n      .catch((error) => {\n        console.log(\"error\", error);\n      });\n  };\n\n  const previosPage = () => {\n    Axios.get(previous)\n      .then((res) => {\n        setListings(res.data.results);\n        setNext(res.data.next);\n        setPrevious(res.data.previous);\n        setActive(active - 1);\n      })\n      .catch((error) => {\n        console.log(\"error\", error);\n      });\n  };\n  const nextPage = () => {\n    Axios.get(next)\n      .then((res) => {\n        setListings(res.data.results);\n        setNext(res.data.next);\n        setPrevious(res.data.previous);\n        if (next) {\n          setActive(active + 1);\n        }\n      })\n      .catch((error) => {\n        console.log(\"error\", error);\n      });\n  };\n\n  return (\n    <div>\n      <div className=\"card__before__show\">{displayListing()}</div>\n      <section className=\"home__div__bottom__section\">\n        {listings.length != 0 ? (\n          <Pagination\n            count={count}\n            visitingPage={visitPage}\n            previousPage={previosPage}\n            nextPage={nextPage}\n            listingPerPage={3}\n            active={active}\n            updateListingPagination={visitPage}\n          />\n        ) : null}\n      </section>\n    </div>\n  );\n};\nexport default Listing;\n"]},"metadata":{},"sourceType":"module"}