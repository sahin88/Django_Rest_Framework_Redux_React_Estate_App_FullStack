{"ast":null,"code":"import _slicedToArray from\"/home/alex/Documents/clone/estate-real-appp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import Axios from\"axios\";import{Helmet}from\"react-helmet\";var ListingDetail=function ListingDetail(props){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),listing=_useState2[0],setListing=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),realtor=_useState4[0],setRealtor=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var numberwithCommas=function numberwithCommas(x){return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");};useEffect(function(){var slug=props.match.params.id;var config={headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}};Axios.get(\"https://estate-real-appp.herokuapp.com/listinghouse/\".concat(slug,\"/\"),config).then(function(res){setListing(res.data);setPrice(numberwithCommas(res.data.price));}).catch(function(error){console.log(\"errororoor\",error);});},[props.match.params.id]);console.log(\"listing\",listing,listing.imobile);useEffect(function(){var config={headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}};var id=listing.imobile;if(id){Axios.get(\"https://estate-real-appp.herokuapp.com/immobilien/\".concat(id,\"/\"),config).then(function(res){setRealtor(res.data);}).catch(function(err){alert(\"Error  :  \"+err);});}},[listing.imobile]);var showImage=function showImage(){var listingOfphotos=[];for(var i=1;i<21;i+=1){if(listing[\"photo_\".concat(i)]){listingOfphotos.push(/*#__PURE__*/React.createElement(\"div\",{className:\"listings__div\"},/*#__PURE__*/React.createElement(\"img\",{className:\"listings__div__img\",src:listing[\"photo_\".concat(i)]})));}}return listingOfphotos;};return/*#__PURE__*/React.createElement(\"div\",{className:\"listindetail\"},/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,\"Real Estate-Listing |\",\"\".concat(listing.title)),/*#__PURE__*/React.createElement(\"meta\",{name:\"description\",content:\"Listing detail\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"listingdetail__header\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"listingdetail__title\"},listing.title),/*#__PURE__*/React.createElement(\"p\",{className:\"listingdetail__location\"},listing.city,\", \",listing.state,\",\",listing.zipcode)),/*#__PURE__*/React.createElement(\"div\",{className:\"listingdetail__header__sub\"},listing.house_type,\"/\",listing.zipcode),/*#__PURE__*/React.createElement(\"div\",{className:\"listingdetail__main__top\"},/*#__PURE__*/React.createElement(\"div\",{className:\"listingdetail__main__top__left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"listingdetail__mainphoto\"},/*#__PURE__*/React.createElement(\"img\",{src:listing.photo_main,className:\"listingdetail__mainphoto__img\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"listingdetail__info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"listingdetail__info__div\"},/*#__PURE__*/React.createElement(\"p\",{className:\"card__info\"},\"Price: $\",price),/*#__PURE__*/React.createElement(\"p\",{className:\"card__info\"},\"Bedrooms: \",listing.bedrooms),/*#__PURE__*/React.createElement(\"p\",{className:\"card__info\"},\"Bathrooms: \",listing.bathrooms)),/*#__PURE__*/React.createElement(\"div\",{className:\"listingdetail__info__div\"},/*#__PURE__*/React.createElement(\"p\",{className:\"card__saletype\"},\" \",listing.sale_type),/*#__PURE__*/React.createElement(\"p\",{className:\"card__hometype\"},\" \",listing.house_type),/*#__PURE__*/React.createElement(\"p\",{className:\"card__sqft\"},\"Sqft: \",listing.sqft)))),/*#__PURE__*/React.createElement(\"div\",{className:\"listingdetail__realtor\"},/*#__PURE__*/React.createElement(\"div\",{className:\"listingdetail__realtor__divimg\"},/*#__PURE__*/React.createElement(\"img\",{src:realtor.photo,className:\"listingdetail__realtor__img\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"listingdetail__realtor__info\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"listingdetail__realtor__info__h2\"},realtor.name),/*#__PURE__*/React.createElement(\"p\",{className:\"listingdetail__realtor__info__p\"},realtor.phone),/*#__PURE__*/React.createElement(\"p\",{className:\"listingdetail__realtor__info__p\"},realtor.description)))),/*#__PURE__*/React.createElement(\"div\",{className:\"subphotos\"},showImage()));};export default ListingDetail;","map":{"version":3,"sources":["/home/alex/Documents/clone/estate-real-appp/src/container/ListingDetail.js"],"names":["React","useEffect","useState","Axios","Helmet","ListingDetail","props","listing","setListing","realtor","setRealtor","price","setPrice","numberwithCommas","x","toString","replace","slug","match","params","id","config","headers","Authorization","localStorage","getItem","get","then","res","data","catch","error","console","log","imobile","err","alert","showImage","listingOfphotos","i","push","title","city","state","zipcode","house_type","photo_main","bedrooms","bathrooms","sale_type","sqft","photo","name","phone","description"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport { Helmet } from \"react-helmet\";\n\nconst ListingDetail = (props) => {\n  const [listing, setListing] = useState({});\n  const [realtor, setRealtor] = useState({});\n  const [price, setPrice] = useState(0);\n  const numberwithCommas = (x) => {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  };\n  useEffect(() => {\n    const slug = props.match.params.id;\n\n    const config = {\n      headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n    };\n\n    Axios.get(`https://estate-real-appp.herokuapp.com/listinghouse/${slug}/`, config)\n      .then((res) => {\n        setListing(res.data);\n        setPrice(numberwithCommas(res.data.price));\n      })\n      .catch((error) => {\n        console.log(\"errororoor\", error);\n      });\n  }, [props.match.params.id]);\n  console.log(\"listing\", listing, listing.imobile);\n\n  useEffect(() => {\n    const config = {\n      headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n    };\n    const id = listing.imobile;\n    if (id) {\n      Axios.get(`https://estate-real-appp.herokuapp.com/immobilien/${id}/`, config)\n        .then((res) => {\n         \n          setRealtor(res.data);\n         \n        })\n        .catch((err) => {\n         alert(\"Error  :  \"+err);\n        });\n    }\n  }, [listing.imobile]);\n  const showImage = () => {\n    let listingOfphotos = [];\n    for (let i = 1; i < 21; i += 1) {\n      if (listing[`photo_${i}`]) {\n        listingOfphotos.push(\n          <div className=\"listings__div\">\n            <img className=\"listings__div__img\" src={listing[`photo_${i}`]} />\n          </div>\n        );\n      }\n    }\n    return listingOfphotos;\n  };\n  return (\n    <div className=\"listindetail\">\n      <Helmet>\n        <title>Real Estate-Listing |{`${listing.title}`}</title>\n        <meta name=\"description\" content=\"Listing detail\" />\n      </Helmet>\n      <div className=\"listingdetail__header\">\n        <h1 className=\"listingdetail__title\">{listing.title}</h1>\n        <p className=\"listingdetail__location\">\n          {listing.city}, {listing.state},{listing.zipcode}\n        </p>\n      </div>\n      <div className=\"listingdetail__header__sub\">\n        {listing.house_type}/{listing.zipcode}\n      </div>\n      <div className=\"listingdetail__main__top\">\n        <div className=\"listingdetail__main__top__left\">\n          <div className=\"listingdetail__mainphoto\">\n            <img\n              src={listing.photo_main}\n              className=\"listingdetail__mainphoto__img\"\n            />\n          </div>\n          <div className=\"listingdetail__info\">\n            <div className=\"listingdetail__info__div\">\n              <p className=\"card__info\">Price: ${price}</p>\n              <p className=\"card__info\">Bedrooms: {listing.bedrooms}</p>\n              <p className=\"card__info\">Bathrooms: {listing.bathrooms}</p>\n            </div>\n            <div className=\"listingdetail__info__div\">\n              <p className=\"card__saletype\"> {listing.sale_type}</p>\n              <p className=\"card__hometype\"> {listing.house_type}</p>\n              <p className=\"card__sqft\">Sqft: {listing.sqft}</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"listingdetail__realtor\">\n          <div className=\"listingdetail__realtor__divimg\">\n            <img src={realtor.photo} className=\"listingdetail__realtor__img\" />\n          </div>\n\n          <div className=\"listingdetail__realtor__info\">\n            <h2 className=\"listingdetail__realtor__info__h2\">{realtor.name}</h2>\n            <p className=\"listingdetail__realtor__info__p\">{realtor.phone}</p>\n            <p className=\"listingdetail__realtor__info__p\">\n              {realtor.description}\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"subphotos\">{showImage()}</div>\n    </div>\n  );\n};\n\nexport default ListingDetail;\n"]},"metadata":{},"sourceType":"module"}